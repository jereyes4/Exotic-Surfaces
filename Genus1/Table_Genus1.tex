\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{longtable}
\usepackage{verbatim}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{hyperref}
\usepackage{geometry}

\usepackage{listings}
\usepackage{xcolor}

\usepackage{pgffor}

\geometry{left=7em, bottom=7em, right=7em, tmargin=7em, headheight=7em}
%New colors defined below
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

%Code listing style named "mystyle"

\lstdefinelanguage{config}{
  morekeywords={Try,Fix,Ign,Dis,Di1,Di2,Di3,Di4,Di5,Di6,Di7,Di8,Di9,global,print},
  morecomment=[l]{\#},
}
\lstdefinestyle{mystyle}{
  backgroundcolor=\color{backcolour},
  commentstyle=\color{codegreen},
  keywordstyle=\color{magenta},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codegray},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  inputencoding=utf8,
  extendedchars=true,
  literate={á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
}
\lstset{style=mystyle}


\setlength{\parindent}{0pt}
\title{Table of examples with $p_g = 1$}
\author{\ }
\date{\today}

\newcommand\FILES{
    K3_2I82I1I2I4/$2I_8 + I_4 + I_2 + 2I_1$ %,
    % K3_2I92I2_n/$2I_9 + 2I_2 + 2I_1$,
    % K3_4I5+2I2_n/$4I_5 + 2I_2$,
    % K3_6lines_n/K3: 6 lines,
    % K3_8211x2/$2I_8 + 2I_2 + 4I_1$,
    % K3_campe1/$2I_8 + 4I_2$ v1,
    % K3_campe1_n/$2I_8 + 4I_2$ v2,
    % K3_campe1_nn/$2I_8 + 4I_2$ v3,
    % K3_campe2/$6I_4$ v1,
    % K3_campe2_n/$6I_4$,
    % K3_finito1_n/K3: finito1,
    % K3_I16I44I1/$I_{16} + I_4 + 4I_1$,
    % K3_I18I2_n/$I_{18} + I_2 + 4I_1$,
    % K3_I163I22I1/$I_{16} + 3I_2 + 2I_1$,
    % K3/$I_{18} + I_2 + 2I_1 + $ extra?,
    % Schur_test/Schur Test
}

\newcommand{\C}{\mathbb{C}}

\begin{document}

\maketitle

\tableofcontents

\foreach \FILENAME/\TITLE in \FILES {%
  \section{\TITLE}
  \IfFileExists{./Descriptions/\FILENAME}{%
    Description:
    \input{./Descriptions/\FILENAME}
  }{}
  \IfFileExists{./Tests/\FILENAME.txt}{%
    Input:
    \lstinputlisting[language=config]{./Tests/\FILENAME.txt}
  }{}
  \IfFileExists{./tables/\FILENAME}{%
    Result:
    \input{./tables/\FILENAME}
  }{}
}

\end{document}